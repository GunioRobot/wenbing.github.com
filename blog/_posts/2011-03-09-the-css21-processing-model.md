---
layout: blog-post
title: CSS 2.1 渲染模型
excerpt: 翻译自 W3C 的介绍 -- 浏览器如何使用 CSS 渲染网页内容。当然，具体的浏览器各有差别。
---

在 CSS 2.1 渲染模型下，浏览器通过以下步骤处理源代码：

1. l解析源代码文档，创建文档树。
2. l识别目标的媒体类型。
3. l获取与此文档相关的所有上述媒体类型的级联样式表。
4. l给文档树每个元素的每个属性赋合适的目标媒体类型的样式值。属性以[级联和继承][cascade]规则赋值。

   属性值的计算取决于相应媒体类型的格式化算法。例如，如果目标媒体类型是 screen ，浏览器将以 [视觉格式化模型][visuren] 渲染。
5. l从标记文档树生成格式化结构。通常，格式化结构与树型文档类似，
   但却有重大区别，特别是作者使用伪类的时候。
   首先，格式化结构不必须是树型的--具体依赖于浏览器的实现。
   其次，格式化结构比文档树的信息或多或少。
     举个例子，如果文档树中一个元素的 `'display'` 属性值为 `'none'`，则此元素在格式化结构中不会生成。
     反过来，如，一个列表元素可能会生成更多信息：
     列表元素的内容以及列表样式信息（如，一张子弹图片）。
   
     注意，这个阶段浏览器 CSS 渲染器不会改变文档树。而由样式生成的内容不会反馈给文档树语言处理器。
6. l将格式化结构传输给目标媒体。（例如，打印结果，显示在屏幕，由语音输出，等等）

注：这里，将 `a user agent` 翻译为 `浏览器`，是为了易于理解。
[css21intro]:http://www.w3.org/TR/CSS21/intro.html
[cascade]:http://www.w3.org/TR/CSS21/cascade.html
[visuren]:http://www.w3.org/TR/CSS21/visuren.html

